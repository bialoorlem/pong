{"ast":null,"code":"import _slicedToArray from \"/Users/elliottrejo/pong/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/elliottrejo/pong/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/elliottrejo/pong/src/App.js\";\nimport React, { useEffect, useReducer } from \"react\";\nimport \"./styles.css\";\nimport Paddle from \"./components/Paddle/paddle\";\nimport Container from \"./components/Container\";\nimport Ball from \"./components/Ball/ball\";\nvar initialState = {\n  p1Paddle: {\n    y: 0\n  },\n  p2Paddle: {\n    y: 0\n  },\n  ball: {\n    x: 0,\n    y: 0,\n    dx: 10,\n    dy: 5\n  }\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"MOVE_PADDLE_P1\":\n      return _objectSpread({}, state, {\n        p1Paddle: action.payload\n      });\n\n    case \"MOVE_PADDLE_P2\":\n      return _objectSpread({}, state, {\n        p2Paddle: action.payload\n      });\n\n    case \"MOVE_BALL\":\n      return _objectSpread({}, state, {\n        ball: action.payload\n      });\n\n    default:\n      throw new Error(\"mismatched event: \" + action.type);\n  }\n}\n\nexport default function App() {\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1]; // const [p1PaddleY, setP1PaddleY] = useState(0);\n  // const [p2PaddleY, setP2PaddleY] = useState(0);\n\n\n  function handleKey(e) {\n    // let boundedY;\n    // const offset = (window.innerHeight - 600) / 2;\n    var char = e.key.toLowerCase();\n\n    if (char === \"a\" || char === \"z\") {\n      dispatch({\n        type: \"MOVE_PADDLE_P1\",\n        payload: {\n          y: state.p1Paddle.y + (char === \"a\" ? -10 : 10)\n        }\n      });\n    }\n\n    if (char === \"'\" || char === \"/\") {\n      dispatch({\n        type: \"MOVE_PADDLE_P2\",\n        payload: {\n          y: state.p2Paddle.y + (char === \"'\" ? -10 : 10)\n        }\n      });\n    }\n  }\n\n  useEffect(function () {\n    window.addEventListener(\"keydown\", handleKey);\n    return function () {\n      return window.removeEventListener(\"keydown\", handleKey);\n    };\n  }, [state.p2Paddle, state.p1Paddle]);\n  useEffect(function () {\n    var handleBall = setTimeout(function () {\n      var dx = state.ball.dx;\n      var dy = state.ball.dy;\n\n      if (state.ball.x + state.ball.dx > 900 - 20 || state.ball.x + state.ball.dx < 1) {\n        dx = -dx;\n      }\n\n      if (state.ball.y + state.ball.dy > 600 - 20 || state.ball.y + state.ball.dy < 1) {\n        dy = -dy;\n      }\n\n      dispatch({\n        type: \"MOVE_BALL\",\n        payload: {\n          dx: dx,\n          dy: dy,\n          x: state.ball.x + dx,\n          y: state.ball.y + dy\n        }\n      });\n    }, 50);\n    return function () {\n      return clearTimeout(handleBall);\n    };\n  }, [state.ball]);\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Paddle, {\n    paddleY: state.p1Paddle.y,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(Paddle, {\n    isPlayerTwo: true,\n    paddleY: state.p2Paddle.y,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(Ball, {\n    pos: state.ball,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/elliottrejo/pong/src/App.js"],"names":["React","useEffect","useReducer","Paddle","Container","Ball","initialState","p1Paddle","y","p2Paddle","ball","x","dx","dy","reducer","state","action","type","payload","Error","App","dispatch","handleKey","e","char","key","toLowerCase","window","addEventListener","removeEventListener","handleBall","setTimeout","clearTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport \"./styles.css\";\nimport Paddle from \"./components/Paddle/paddle\";\nimport Container from \"./components/Container\";\nimport Ball from \"./components/Ball/ball\";\n\nconst initialState = {\n  p1Paddle: {\n    y: 0\n  },\n  p2Paddle: {\n    y: 0\n  },\n  ball: {\n    x: 0,\n    y: 0,\n    dx: 10,\n    dy: 5\n  }\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"MOVE_PADDLE_P1\":\n      return { ...state, p1Paddle: action.payload };\n    case \"MOVE_PADDLE_P2\":\n      return { ...state, p2Paddle: action.payload };\n    case \"MOVE_BALL\":\n      return { ...state, ball: action.payload };\n    default:\n      throw new Error(\"mismatched event: \" + action.type);\n  }\n}\n\nexport default function App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  // const [p1PaddleY, setP1PaddleY] = useState(0);\n  // const [p2PaddleY, setP2PaddleY] = useState(0);\n\n  function handleKey(e) {\n    // let boundedY;\n    // const offset = (window.innerHeight - 600) / 2;\n\n    const char = e.key.toLowerCase();\n    if (char === \"a\" || char === \"z\") {\n      dispatch({\n        type: \"MOVE_PADDLE_P1\",\n        payload: {\n          y: state.p1Paddle.y + (char === \"a\" ? -10 : 10)\n        }\n      });\n    }\n    if (char === \"'\" || char === \"/\") {\n      dispatch({\n        type: \"MOVE_PADDLE_P2\",\n        payload: {\n          y: state.p2Paddle.y + (char === \"'\" ? -10 : 10)\n        }\n      });\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKey);\n    return () => window.removeEventListener(\"keydown\", handleKey);\n  }, [state.p2Paddle, state.p1Paddle]);\n\n  useEffect(() => {\n    const handleBall = setTimeout(() => {\n      let dx = state.ball.dx;\n      let dy = state.ball.dy;\n      if (\n        state.ball.x + state.ball.dx > 900 - 20 ||\n        state.ball.x + state.ball.dx < 1\n      ) {\n        dx = -dx;\n      }\n      if (\n        state.ball.y + state.ball.dy > 600 - 20 ||\n        state.ball.y + state.ball.dy < 1\n      ) {\n        dy = -dy;\n      }\n      dispatch({\n        type: \"MOVE_BALL\",\n        payload: {\n          dx,\n          dy,\n          x: state.ball.x + dx,\n          y: state.ball.y + dy\n        }\n      });\n    }, 50);\n    return () => clearTimeout(handleBall);\n  }, [state.ball]);\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        {/* <Container> */}\n        <Paddle paddleY={state.p1Paddle.y} />\n        <Paddle isPlayerTwo paddleY={state.p2Paddle.y} />\n        <Ball pos={state.ball} />\n        {/* </Container> */}\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}